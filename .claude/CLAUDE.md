# CLAUDE.md - 全局智能配置

## 语言设置
始终使用中文回复，除非明确要求使用其他语言。

## Git 提交配置
所有 Git 提交操作必须使用以下作者信息：
- Author: RenYuan <kedoupi@gmail.com>
- 执行 git commit 前，确保设置正确的作者信息

执行提交时使用：
```bash
git -c user.name="RenYuan" -c user.email="kedoupi@gmail.com" commit -m "你的提交信息"
```

## 通用工作原则
1. **需求优先**：请先全面分析当前需求，列出可能的解决方案，并清晰解释每个方案的优缺点
2. **确认后行动**：等我确认方案后，再编写代码或执行操作
3. **代码质量**：遵循项目代码规范，编写测试，添加文档
4. **安全第一**：避免提交敏感信息，遵循最佳实践

## 🔍 智能项目环境检测

我会自动检测当前项目的配置环境并相应调整功能：

### 基础项目支持
- **代码开发**：代码编写、调试、测试、文档
- **Git 管理**：提交分析、分支管理、变更追踪
- **项目维护**：依赖管理、性能优化、安全检查

### 增强功能检测
- 🎯 **自定义命令系统** - 检测 `.claude/commands/` 目录
- 🤖 **专业化Agent系统** - 检测 `.claude/agents/` 目录  
- 📚 **规格文档管理** - 检测 `docs/specs/` 目录
- 🏗️ **项目架构配置** - 检测项目特定配置文件

## 🎯 自定义命令系统（条件启用）

当检测到 `.claude/commands/` 目录时，以下增强命令可用：

### 核心开发工作流
- `/ask` - 需求分析对话，深度理解产品想法并澄清需求细节
- `/specs` - 规格文档生成，创建需求、设计和任务三个完整文档
- `/workflow` - 工作流编排器，自动调用专业agents执行完整开发流程
- `/test` - 测试策略专家，自动调用test-runner agent执行完整测试方案
- `/commit` - 智能提交管理，分析变更并生成规范的Git提交信息

### 项目质量与文档
- `/docs` - 技术文档生成专家，自动调用doc-writer agent创建完整文档体系
- `/clean-project` - 项目清理专家，安全清理临时文件和开发垃圾

### 思维增强
- `/think` - 深度分析思维专家，对复杂问题进行多维度深度分析

### 外部集成
- `/gemini` - Gemini 搜索与分析专家，智能调用网络搜索或长文本分析

## 🤖 专业化Agent系统（条件启用）

当检测到 `.claude/agents/` 目录时，可调用以下专业agents：

### 🏗️ 专业化开发 Agents
- `architect` - 系统架构师，专注技术选型、架构设计和性能规划
- `developer` - 开发协调员和全栈专家，负责跨领域开发和agent推荐
- `backend-dev` - 后端开发专家，专精API、数据库、服务端逻辑和系统集成
- `frontend-dev` - 前端开发专家，专精UI组件、状态管理、用户体验和性能优化
- `dependency-manager` - 智能依赖管理，专注版本冲突、安全扫描和性能优化

### 🔍 质量保障 Agents
- `reviewer` - 代码审查专家，多维度质量检查、安全扫描和最佳实践验证
- `test-runner` - 测试执行专家，运行测试并生成覆盖率报告
- `code-fixer` - Bug修复工程师，最小化修改修复问题
- `debugger` - 调试诊断专家，系统性分析和定位问题

### 📚 项目管理 Agents
- `planner` - 项目规划师，拆分任务并分配给合适的agent
- `doc-writer` - 技术文档专家，生成API文档和变更日志

## 📚 规格文档管理（条件启用）

当检测到 `docs/specs/` 目录时，启用规格文档管理功能：

### 文档目录结构
```
docs/specs/
├── feature-name-1/          # 功能特性规格文档
│   ├── requirements.md      # 需求规格文档
│   ├── design.md           # 系统设计文档
│   └── tasks.md            # 开发任务清单
├── feature-name-2/          # 另一个功能特性
│   └── ...
└── shared/                 # 共享文档
    ├── architecture.md     # 整体架构文档
    └── conventions.md      # 开发约定和规范
```

### 工作原则
1. **特性隔离**：每个功能特性在独立目录下维护规格文档
2. **标准三件套**：requirements.md（需求）、design.md（设计）、tasks.md（任务）
3. **版本管理**：规格文档与代码一起进行版本控制

## 🚀 推荐工作流程

### 基础项目工作流
适用于所有项目的通用开发流程：
1. **需求分析** - 理解和澄清开发需求
2. **方案设计** - 制定技术方案和实现计划
3. **编码实现** - 编写高质量代码
4. **测试验证** - 编写和运行测试
5. **文档完善** - 更新相关文档
6. **代码审查** - 质量检查和优化
7. **提交部署** - 规范化提交和部署

### 增强项目工作流（当支持时）
当项目具备自定义命令和agent系统时：

#### 🎯 Ask + Specs 组合拳
```bash
# 1. 深度需求分析
/ask 我想开发一个用户管理系统，支持RBAC权限控制

# 2. 生成规格文档  
/specs 基于刚才的讨论，生成详细规格说明

# 3. 自动执行开发流程
/workflow "用户管理系统" --quality=standard --focus=fullstack
```

#### ⚡ 一键完整工作流
```bash
# 快速原型开发
/workflow "项目需求" --quality=fast --focus=fullstack

# 标准质量项目  
/workflow "项目需求" --quality=standard --focus=frontend

# 企业级应用
/workflow "项目需求" --quality=enterprise --focus=backend
```

## 🛠️ 通用开发指导

### 代码质量标准
- **代码规范**：遵循项目既有的代码风格和命名约定
- **安全实践**：避免硬编码敏感信息，使用安全的API调用
- **性能考虑**：编写高效代码，避免不必要的复杂度
- **可维护性**：编写清晰、有文档的代码

### 测试策略
- **单元测试**：覆盖核心业务逻辑
- **集成测试**：验证组件间交互
- **端到端测试**：验证关键用户路径

### 文档要求
- **代码注释**：解释复杂逻辑和设计决策
- **API文档**：清晰的接口说明和使用示例
- **README更新**：保持项目说明的准确性

## 🔧 环境适配

### 项目类型识别
我会根据项目特征自动调整行为：
- **前端项目** - 关注UI组件、状态管理、用户体验
- **后端项目** - 专注API设计、数据库、服务架构
- **全栈项目** - 协调前后端开发和集成
- **库/工具项目** - 注重API设计和文档

### 技术栈适配
自动识别并适应项目使用的技术栈：
- JavaScript/TypeScript, Python, Go, Rust, Java等
- React, Vue, Angular, Express, FastAPI, Spring等
- 相应的测试框架、构建工具、部署方式

---

*本配置会根据当前项目环境智能调整可用功能，确保在任何项目中都能获得合适的开发支持。*