---
description: 项目上下文加载 - 加载并验证项目上下文信息，为AI协作做准备
argument-hint: [--validate] [--summary]
---

## 功能
系统性地加载项目的所有上下文文件，验证完整性，并为当前会话建立完整的项目理解基础。

## 加载策略
### 优先级分层加载
1. **核心上下文**（必需）
   - `project-overview.md` - 项目基础信息
   - `tech-context.md` - 技术环境
   - `project-structure.md` - 项目组织

2. **当前状态**（重要）
   - `progress.md` - 当前进展
   - `development-context.md` - 开发状态

3. **深度上下文**（补充）
   - `decisions.md` - 历史决策
   - 其他自定义上下文文件

## 预检清单
1. **上下文目录检查**：验证 `.claude/context/` 存在
2. **文件完整性检查**：验证核心文件存在且可读
3. **格式验证**：检查 frontmatter 和 Markdown 格式
4. **Git 状态检查**：了解项目当前状态
5. **权限验证**：确认读取权限

## 加载流程
1. **目录扫描**：发现所有可用的上下文文件
2. **优先级排序**：按重要性排序加载顺序  
3. **逐个加载**：按优先级加载并验证每个文件
4. **内容整合**：构建完整的项目上下文视图
5. **状态报告**：生成加载摘要和项目理解

## 验证机制
- **格式验证**：YAML frontmatter 完整性
- **内容检查**：必要字段存在性验证
- **时效性检查**：标识过时的上下文信息
- **一致性验证**：跨文件信息一致性检查

## 错误恢复
- **缺失文件处理**：提供默认值或跳过非关键文件
- **格式错误处理**：尝试修复或标记问题
- **部分加载支持**：即使部分文件有问题也继续加载
- **降级策略**：提供最小可用上下文

## 输出格式
### 加载摘要
```
📋 项目上下文加载完成

✅ 核心上下文: 3/3 文件加载成功
⚠️  当前状态: 1/2 文件加载（progress.md 缺失）
✅ 深度上下文: 2/2 文件加载成功

📊 项目概览:
   名称: [项目名]
   类型: [项目类型]
   技术栈: [主要技术]
   当前版本: [版本号]
   最后更新: [时间]
```

## 使用场景
- **会话开始**：为新的开发会话建立完整上下文
- **团队协作**：快速了解项目当前状态
- **问题诊断**：加载完整信息进行问题分析
- **代码审查**：了解项目背景进行有效审查

## 命令选项
- `--validate` - 执行深度验证，包括一致性检查
- `--summary` - 只显示摘要，不加载详细内容
- `--repair` - 尝试修复发现的问题
- `--refresh` - 强制重新扫描和加载所有文件

---